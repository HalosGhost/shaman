\documentclass{latex2man}

\begin{Name}{1}{shaman}{Sam Stuewe}{Fetch Weather Data}{Shaman - A lightweight tool to fetch weather data}
    \Prog{Shaman} - A lightweight tool to fetch weather data
\end{Name}

\section{Synopsis}
\Prog{shaman} \oOpt{options}

\section{Description}
\Prog{Shaman} is a very lightweight application to fetch weather data.

If \Prog{shaman} is not given a location, it will take the data from the cache file.
If \Prog{shaman} is not given a format string, it will default to "\%c (\%t°U)" (where "U" is either "F" or "C" depending on the units requested).

\section{Caching and Refreshing}
\Prog{Shaman} will look for the cache in the following locations stopping upon the first file found:\\

\File{\$XDG\_CONFIG\_HOME/shaman/cache.json}\\
\File{\$HOME/.shaman/cache.json}

In both the paths above, "cache" may be either "imperial" or "metric" depending on the units requested.
In accordance with OpenWeatherMap's API, a call for new data should be made no more often than once per 10 minutes per device.
\Prog{Shaman} will, therefore, automatically use data from the cache (assuming the requested location is the same) until the file's last-modified timestamp is over 10 minutes old (or the \Opt{--refresh} flag has been passed).

\section{Options}
\begin{description}
    \item[\Opt{-h}, \Opt{--help}]
        Print usage information and exit
    \item[\OptArg{-c}{\SP "cache.json"}, \OptArg{--cache=}{"cache.json"}]
        Use the file located at \Arg{"cache.json"} for data caching
    \item[\OptArg{-f}{\SP "format"}, \OptArg{--format=}{"format"}]
        Specify an output format
    \item[\Opt{-i, --imperial}]
        Print information using Imperial units
    \item[\OptArg{-l}{\SP "location"}, \OptArg{--location=}{"location"}]
        Specify location to query. Note that \Arg{"location"} should be formatted as "City Name,CC" where "CC" is the ISO 3166 two-digit Country Code.
    \item[\Opt{-m, --metric}]
        Print information using Metric units
    \item[\Opt{-r, --refresh}]
        Force updating the cache
    \item[\Opt{-v, --verbose}]
        Show more output
\end{description}

\section{Format}
The following format specifiers may be used in the format string:

% Verify and finish documenting units for each value
\begin{verbatim}
%%    A literal percent sign
%a    Time of data receipt       (unixtime)
%b    Barometric pressure        (hectoPascals)
%c    Weather condition string
%C    Weather condition code
%d    Cloud coverage             (percent)
%h    Low temperature            (°F | °C)
%H    High temperature           (°F | °C)
%i    City ID number
%I    City name
%j    Country Code               (ISO3166)
%l    Latitude                   (degrees)
%L    Longitude                  (degrees)
%p    Precipitation              (in | mm)
%P    Relative humidity          (percent)
%s    Time of sunrise            (unixtime)
%S    Time of sunset             (unixtime)
%t    Current temperature        (°F | °C)
%T    Apparent temperature       (°F | °C)
%w    Sustained wind speed       (mph|mps)
%W    Gusting wind speed         (mph|mps)
%x    Wind heading               (degrees)
%X    Wind heading               (Cardinal direction)
\end{verbatim}
All other valid escape characters may also be used (e.g., \Bs n and \Bs\Bs).

\section{Author}
Copyright \copyright 2012-2014 Sam Stuewe\\
License GPLv2: GPL version 2 \URL{https://www.gnu.org/licenses/gpl-2.0.html} \\
This is free software: you are free to change and redistribute it. \\
There is NO WARRANTY, to the extent permitted by law.

Feature requests, bug reports and other comments may be submitted via GitHub (\URL{https://github.com/HalosGhost/shaman.git}) or E-mail (\Email{halosghost@archlinux.info})

\section{See Also}
\Cmd{libcurl}{3}, \Cmd{libweather}{3}

\LatexManEnd
